{% extends "base.html" %}
{% load static %}
{% block html_head %}
    <link rel="stylesheet" href="{% static "upload_style.css" %}" type="text/css" />
    <script src="http://code.jquery.com/jquery-latest.min.js" type='text/javascript'></script>
    <script src="{% static "upload.js" %}" async></script>
{% endblock html_head %}

{% block content %}
<!--        <h1>Ajouter un fichier</h1>
        <p>
            <form method="post" enctype="multipart/form-data" action=".">
                {% csrf_token %}
                {{ form.as_p }}
                <input type="submit" />
            </form>
        </p>
-->
<header>
    <h1>Nom du site</h1>
    <h3>Déconnexion</h3>
</header>
<hr class="Line">
<div id="Corps">
    <nav>
        <ul class="List-nav">
            <li>Dossier</li>
            <li><hr></li>
            <li>Favoris</li>
            <li><hr></li>
            <li>Récents</li>
            <li><hr></li>
            <li>Espace de Stockage</li>
            <li><hr></li>
            <li>Paramètres</li>
            <li><hr></li>
        </ul>
    </nav>
    <form class="dropzone" method="post" action="" enctype="multipart/form-data">
        {% csrf_token %}
        <div id="dropzone__input">
            <!-- <input class="dropzone__file" type="file" name="files[]" id="file" data-multiple-caption="{count} files selected" multiple />
            <label for="file"><strong>Choose a file</strong><span class="dropzone__dragndrop"> or drag it here</span>.</label> -->
            <div class="dropzone__uploading">Uploading&hellip;</div>
            <div class="dropzone__success">Done !</div>
            <div class="dropzone__error">Error !</div>
            {{ form.as_p }}
            <button class="dropzone__button" type="submit">Upload</button>
            <h2>Liste des fichiers</h2>
            <p>
                <ul>
                    {% for element in directory_files %}
                        <li><a href="{% url 'download' path=element.url %}">{{ element.file }}</a></li>
                    {% endfor %}
                    {% for element in directory_directories %}
                        <li><a href="{% url 'files' path=element.url %}"> {{ element.directory }}</a></li>
                    {% endfor %}
                </ul>
            </p>
        </div>
    </form>
{% endblock content %}

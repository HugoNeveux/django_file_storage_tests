{% extends "base.html" %}
{% load static %}
{% block html_head %}
    <link rel="stylesheet" href="{% static "style/upload_style.css" %}" type="text/css" />
    <script src="http://code.jquery.com/jquery-latest.min.js" type='text/javascript'></script>
    <script src="{% static "js/upload.js" %}" async></script>
    <script type="text/javascript">
        let csrf_token = '{{ csrf_token }}'
    </script>
{% endblock html_head %}

{% block content %}
    <div class="Breadcrump">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
              <li class="breadcrumb-item"><a href="{% url 'files' path='' %}"><span class="fa fa-home"></a></li>
              {% for parent in breadcrumb.path %}
                <li class="breadcrumb-item"><a href="#">{{ parent.name }}</a></li>
              {% endfor %}
              <li class="breadcrumb-item active" aria-current="page">{{ breadcrumb.active }}</li>
            </ol>
        </nav>
    </div>
    <form class="dropzone" method="post" action="" enctype="multipart/form-data">
        {% csrf_token %}
        <div id="dropzone__input">
            <div class="dropzone__uploading">Uploading&hellip;</div>
            <div class="dropzone__success">Done !</div>
            <div class="dropzone__error">Error !</div>
            {{ form.as_p }}
            <button class="dropzone__button" type="submit">Upload</button>
            <p>
                <ul>
                    {% for element in directory_files %}
                        <li class="file draggable"><a href="{% url 'download' path=element.url %}"><span class="fa fa-file" id="icone"></span>{{ element.name }}</a><span class="fa fa-ellipsis-v" id="icone-fin"></span></li>
                    {% endfor %}
                    {% for element in directory_directories %}
                        <li class="folder draggable"><a href="{% url 'files' path=element.url %}"><span class="fa fa-folder" id="icone_folder" ></span>{{ element.name }}</a><span class="fa fa-ellipsis-v" id="icone-fin"></span></li>
                    {% endfor %}
                </ul>
            </p>
        </div>
    </form>
{% endblock content %}

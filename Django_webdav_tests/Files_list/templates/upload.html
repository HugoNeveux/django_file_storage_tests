{% load static %}
<!DOCTYPE html>
<html lang="fr" dir="ltr">
    <head>
        <meta charset="utf-8">
        <title>Upload file</title>
        <link rel="stylesheet" href="{% static "upload_style.css" %}" type="text/css" />
        <script src="http://code.jquery.com/jquery-latest.min.js" type='text/javascript'></script>
        <script src="{% static "upload.js" %}" async></script>
    </head>
    <body>
<!--        <h1>Ajouter un fichier</h1>
        <p>
            <form method="post" enctype="multipart/form-data" action=".">
                {% csrf_token %}
                {{ form.as_p }}
                <input type="submit" />
            </form>
        </p>
-->
        <form class="dropzone" method="post" action="" enctype="multipart/form-data">
            {% csrf_token %}
            <div id="dropzone__input">
                <input class="dropzone__file" type="file" name="files[]" id="file" data-multiple-caption="{count} files selected" multiple />
                <label for="file"><strong>Choose a file</strong><span class="dropzone__dragndrop"> or drag it here</span>.</label>
                <button class="dropzone__button" type="submit">Upload</button>
                <h2>Liste des fichiers</h2>
                <p>
                    <ul>
                        {% for element in directory_files %}
                            <li><a href="{% url 'download' path=element.url %}">{{ element.file }}</a></li>
                        {% endfor %}
                        {% for element in directory_directories %}
                            <li><a href="{% url 'files' path=element.url %}"> {{ element.directory }}</a></li>
                        {% endfor %}
                    </ul>
                </p>
            </div>
        </form>
    </body>
</html>
